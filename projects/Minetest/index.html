<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>Minetest | Home</title>
	<link rel="stylesheet" href="styles.css">
	<link rel="icon" href="Assets/minetest.svg">
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
	<!-- Menu/Top Bar Divider -->
	<div id="TopBar">
		<!-- Icon -->
		<img id="TitleIcon" class="ImgIcon" src="Assets/home_white_48dp.svg" alt="Title Icon">

		<!-- Title -->
		<h id="Title">Home | Minetest</h>

		<!-- Page Buttons -->
		<button class="TopBarButtons" id="AboutButton" onclick="Update('About', this)">About</button>
		<button class="TopBarButtons" id="InstallButton" onclick="Update('Install', this)">Install</button>
		<button class="TopBarButtons" id="HomeButton" onclick="Update('Home', this)">Home</button>
	</div>

	<!-- Content Divider -->
	<div id="Content">
		<h1>Minetest</h1>
		<p>Here is some place holder text. What awesome text this is... Why are you reading this?</p>
		<p>This text is <b>bold</b> and this text is <i>italic</i>.</p>
	</div>

	<!-- Footer -->
	<footer>
		<!-- Icon/Text (author) -->
		<img class="FooterIcon ImgIcon" src="Assets/person_white_48dp.svg" alt="Footer Icon">
		<h class="FooterText">Jacob Humston</h>

		<!-- Break (separating author and last edited) -->
		<br><br>

		<!-- Icon/Text (last edited) -->
		<img class="FooterIcon BottomFooter ImgIcon" src="Assets/edit_white_48dp.svg" alt="Footer Icon">
		<h class="FooterText BottomFooter">September 14th, 2022</h>
	</footer>

	<!-- Script -->
	<script>
		// Element variables
		const TitelIcon = document.getElementById("TitleIcon")
		const Title = document.getElementById("Title")
		const ContentDivider = document.getElementById("Content")
		const MenuButtons = document.getElementsByClassName("TopBarButtons")

		// Pages
		const Pages = {
			Home: {
				Name: "Home",
				Icon: "home_white_48dp.svg",
				HTML: `
				<h1>Minetest</h1>
				<p>
					Welcome! This is an unofficial site about Minetest.
					<br>
					<br>
					You'll find at the top of this page three buttons you can use...
				</p>
				<ul>
					<li>
						<b>Home</b> - Leads to this page!
					</li>
					<li>
						<b>Install</b> - The installation page, which will explain how to install Minetest. 
					</li>
					<li>	
						<b>About</b> - You'll find all the information about Minetest there. This includes gameplay & more!
					</li>
				</ul>
				<p>If you have any questions, you can contact the web developer of this page <a href="mailto:jhumston24@sciototech.org?subject=Minetest Site">here</a>.</p>
				`
			},
			About: {
				Name: "About",
				Icon: "description_white_48dp.svg",
				HTML: `
				<div id="PageContent"><p>You shouldn't see this...</p></div>
				<div id="PageList"><p>You shouldn't see this...</p></div>
				`
			},
			Install: {
				Name: "Install",
				Icon: "file_download_white_48dp.svg",
				HTML: `
				<h1>Installing Minetest</h1>
				<p>
					Thankfully, Minetest is actually pretty easy to install!
					<br>
					All you have to do is follow <a href="https://www.minetest.net/downloads/" target="blank">this link</a> to download Minetest!
					<br>
					<br>
					And best of all... it's <b>100% free</b>!
					<br>
					<br>
					If your still confused, you may watch the video bellow as a guide.
				</p>
				<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/ceseKLPNfTE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
				`
			}
		}

		// About Pages
		const AboutPages = {
			Page1: {
				Title: "What is Minetest?",
				HTML: `
				<h1>What is Minetest?</h1>
				<p>
					I think the best way to describe Minetest would be a open-sourced application that is heavily insipired by Minecraft. But you could also call it an open-sourced sandbox game. Created by the <a href="https://www.minetest.net/credits/" target="blank">Minetest Team</a>, using the <a href="https://irrlicht.sourceforge.io/" target="blank">Irrlicht Engine</a>.
					<br>
					<br>
					Unlike Minecraft, Minetest can be changed in a lot more ways. You're able to change pretty much anything if you learn how.
					<br>
					<br>
					However, something that is really cool about Minetest is that it is updated & maintained by the community!
					<br>
					You can find on <a href="https://github.com/minetest/minetest" target="blank">GitHub</a> the repository where everyone is allowed to recommend changes, and more!
					<br>
					<br>
					Bellow is a cool build made in Minetest!
					<br>
					<img src="Assets/coolminetestbuild.jpg" alt="Minetest Build" width="520px" height="220px">
				</p>
				`
			},
			Page2a: {
				Title: "Minetest vs. Minecraft",
				HTML: `
				<h1>Minetest vs. Minecraft</h1>
				<table id="CompareList">
					<tr class="TopRow">
						<th><b>Difference</b></th>
						<th><b>Minecraft</b></th>
						<th><b>Minetest</b></th>
					</tr>
					<tr>
						<th>Mobs?</th>
						<th>✅</th>
						<th>✅</th>
					</tr>
					<tr>
						<th>Open Source?</th>
						<th>❌</th>
						<th>✅</th>
					</tr>
					<tr>
						<th>Crafting & building?</th>
						<th>✅</th>
						<th>✅</th>
					</tr>
					<tr>
						<th>Mods?</th>
						<th>✅</th>
						<th>✅</th>
					</tr>
					<tr>
						<th>Free?</th>
						<th>❌</th>
						<th>✅</th>
					</tr>
					<tr>
						<th>Polished?</th>
						<th>✅</th>
						<th>❌</th>
					</tr>
				</table>
				<br>
				<button id="CantSeeEmojisButton" onclick="CantSeeEmojisFunction(this)">Can't see the emojis? Click here.</button>
				`
			},
			Page3: {
				Title: "How to play?",
				HTML: `
				<h1>How to play?</h1>
				<p>
					Playing Minetest is pretty simple. You mine, craft, & build!
					<br>

				</p>
				`
			}
		}

		// Update About Function
		function UpdateAbout(PageKey) {
			const PageList = document.getElementById("PageList")
			const PageContent = document.getElementById("PageContent")
			const ButtonArray = []
			for (const [PageKey, Page] of Object.entries(AboutPages)) {
				ButtonArray.push(`<button class="PageListButton" id="AboutPage_${PageKey}" onclick="UpdateAbout('${PageKey}')">${Page.Title}</button>`)
			}
			PageList.innerHTML = `
		<h2 id="PageListTitle">Pages</h2>
		${ButtonArray.join("<br>")}
		`
			PageContent.innerHTML = AboutPages[PageKey].HTML
			document.getElementById("AboutPage_" + PageKey).style.color = "rgb(193, 193, 193)"
		}

		// Update Function
		function Update(Name, Element) {
			const Page = Pages[Name]
			document.title = `Minetest | ${Page.Name}`
			Title.innerHTML = `${Page.Name} | Minetest`
			TitelIcon.src = `Assets/${Page.Icon}`
			ContentDivider.innerHTML = Page.HTML
			for (let Index = 0; Index < MenuButtons.length; Index++) {
				const CurrentItem = MenuButtons.item(Index)
				CurrentItem.style.color = "rgb(255, 255, 255)"
			}
			Element.style.color = "rgb(193, 193, 193)"
			if (Page.Name === "About") {
				UpdateAbout("Page1")
			}
		}

		// Fix Emojies in Compare Table
		function CantSeeEmojisFunction(Element) {
			Element.remove()
			const Table = document.getElementById("CompareList")
			Table.innerHTML = Table.innerHTML.replaceAll("✅", `<p style="margin:0; padding:0; color:#77DD77;">Yes</p>`)
			Table.innerHTML = Table.innerHTML.replaceAll("❌", `<p style="margin:0; padding:0; color:#ff6961;">No</p>`)
		}

		// Opening the first page
		Update("Home", MenuButtons.namedItem("HomeButton"))

		// Popup errors for easy debug *hopefully*
		addEventListener("error", Error => {
			alert("Something went wrong:\n\n" + Error.message)
		})

	</script>
</body>

</html>